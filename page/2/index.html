<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"page.frankutils.xyz","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Fs Page">
<meta property="og:url" content="https://page.frankutils.xyz/page/2/index.html">
<meta property="og:site_name" content="Fs Page">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Frank W">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://page.frankutils.xyz/page/2/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>Fs Page</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Fs Page</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://page.frankutils.xyz/2020/08/13/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8D2550%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E9%BB%91%E7%BE%A4%E6%99%96/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Frank W">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Fs Page">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/08/13/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8D2550%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E9%BB%91%E7%BE%A4%E6%99%96/" class="post-title-link" itemprop="url">如何使用D2550搭建一个黑群晖</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-08-13 19:59:00" itemprop="dateCreated datePublished" datetime="2020-08-13T19:59:00+02:00">2020-08-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-04-10 17:03:04" itemprop="dateModified" datetime="2023-04-10T17:03:04+02:00">2023-04-10</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>最近突发奇想，想刷一个黑群晖玩玩，手头上正好有一块闲置的D2550的主板，本来想做软路由的，现在刚好用来把它作为黑群晖的载体。虽说性能一般，但是比原来的DS216j的白群晖，应该可玩性要高一些。</p>
<p>** 本篇文章的下载地址都会在文章末尾出，如果需要，可以自行提取。**<br><img src="https://raw.githubusercontent.com/frank2002/blogImg/main/page/3179769476.jpg"></p>
<hr>
<h2 id="机器配置"><a href="#机器配置" class="headerlink" title="机器配置"></a>机器配置</h2><h3 id="主板：国光D2550"><a href="#主板：国光D2550" class="headerlink" title="主板：国光D2550"></a>主板：国光D2550</h3><p>这块主板上面没有现成的VGA口，可以去某宝上购买JVGA的转接头，本人亲测某宝上买的有些转接头不能用，建议直接找买D2550成品软路由的店家问问。<br>主板上有两个SATA通道，一个标准SATA，一个mSATA，理论上可以组raid0或者1，但是没有试过。<br>标准SATA需要购买大4Pin的硬盘供电线<br>主板上有一个内存插槽，这次使用的是2G-DDR3内存<br>两个原生的千兆网口，是组软路由的绝佳伴侣<br>整机采用被动散热，个人认为这个散热是没有什么大问题的</p>
<h3 id="硬盘"><a href="#硬盘" class="headerlink" title="硬盘"></a>硬盘</h3><p>使用的是日立的2.5寸7200转的垂直式机械硬盘，不是全新，之前在笔记本上使用过几年。因为不是组一个正经用的群晖，所以没有特意上NAS盘，节约成本。 (๑•̀ㅁ•́ฅ)</p>
<hr>
<h2 id="群晖系统：-DS3617-6-1-7-15284"><a href="#群晖系统：-DS3617-6-1-7-15284" class="headerlink" title="群晖系统： DS3617-6.1.7-15284"></a>群晖系统： DS3617-6.1.7-15284</h2><p>这里使用DS3617-6.1.7，主要是因为板子太过古老，曾经尝试过安装DS918+-6.2.2，没有成功。但是3617很容易就成功了。</p>
<h3 id="安装教程"><a href="#安装教程" class="headerlink" title="安装教程"></a>安装教程</h3><ul>
<li>找一个U盘，USB2.0就可以了，U盘大小最好高于4G，用作引导群晖系统用。将引导文件.img，文件结尾的文件通过rufus刷入U盘之中。<br>*** 此操作会自动格式化，请先备份好数据 ***</li>
<li>打开自己的Windows电脑，使用Chipgenius查看U盘芯片的VID和PID，记录下来。通过DiskGenius打开&#x2F;boot&#x2F;boot&#x2F;grub&#x2F;grub.cfg，保存到桌面，使用记事本打开。将刚刚记录的VID和PID改正。（注意这里0x需要保留，请勿删除）。打开 <a target="_blank" rel="noopener" href="https://web.gxnas.com/sn/">https://web.gxnas.com/sn/</a> ，选择DS3617进行算号，将SN码和MAC地址复制下来，填入grub.cfg文件之中，并将文件覆盖会U盘文件之中。</li>
<li>将刷写好的U盘插入黑群晖硬件，在BIOS引导顺序将U盘移至最上方，开机。如果屏幕上显示如下界面，那么就可以将显示器拔了，只连一根网线就够了。<br><img src="https://raw.githubusercontent.com/frank2002/blogImg/main/page/3560999264.jpg"></li>
<li>请预先将使用的硬盘内的文件全部清除，删除全部分区，避免格式化会出现的问题。 打开自己的电脑，在Synology assistant中间找到内网中的黑群晖，双击进入WEB管理界面，根据提示一步一步完成** （注意选择手动安装，然后上传.pat文件，请勿使用自动安装最新版本） **。提示注册Synology账号的时候点击跳过此步骤，我们是黑群晖，这里不能注册。</li>
<li>等待安装完成并自动重连，进入了熟悉的管理界面。</li>
</ul>
<h3 id="存储空间管理"><a href="#存储空间管理" class="headerlink" title="存储空间管理"></a>存储空间管理</h3><ul>
<li>点击存储空间管理员，先进RAID GROUP选项卡，新增新的group，根据自身需求来选择。</li>
<li>进入存储空间，点击新增，成功创建存储空间.</li>
</ul>
<hr>
<h2 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h2><p>切记不要在DSM系统中将群晖升级，不然系统会损坏，数据需要另外导出，很麻烦。<br>本人不建议将群晖洗白，去白嫖群晖官方的QuickConnet是不道德的，而且过度使用很可能迫使群晖官方封锁黑群晖，以后想用都不能用了，如果因为功能原因需要洗白，也不建议使用官方的QuickConnect，请注意！</p>
<p>此文章参考了什么值得买上面的阿文菌的文章，文章原链接： <a target="_blank" rel="noopener" href="https://post.smzdm.com/p/ag82zdd3/">https://post.smzdm.com/p/ag82zdd3/</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://page.frankutils.xyz/2020/08/05/%E5%AF%B9%E4%BA%8E%E5%8D%97%E6%96%B9%E4%B8%AD%E5%9B%BD%E7%94%B5%E4%BF%A1%E7%9A%845G%E5%88%9D%E4%BD%93%E9%AA%8C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Frank W">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Fs Page">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/08/05/%E5%AF%B9%E4%BA%8E%E5%8D%97%E6%96%B9%E4%B8%AD%E5%9B%BD%E7%94%B5%E4%BF%A1%E7%9A%845G%E5%88%9D%E4%BD%93%E9%AA%8C/" class="post-title-link" itemprop="url">对于南方中国电信的5G初体验</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-08-05 22:32:40" itemprop="dateCreated datePublished" datetime="2020-08-05T22:32:40+02:00">2020-08-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-04-10 17:01:46" itemprop="dateModified" datetime="2023-04-10T17:01:46+02:00">2023-04-10</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="2023年更新"><a href="#2023年更新" class="headerlink" title="2023年更新"></a>2023年更新</h2><p>这次回国已经是此次测试的两年多以后了，城区的5G覆盖基本到位，室内测速也能达到上百兆的速度了，此文现在已经不在准确，请以实际测速为准</p>
<h2 id="原文如下"><a href="#原文如下" class="headerlink" title="原文如下"></a>原文如下</h2><p>最近一段时间更换了三星的S20+ 5G版本，碰巧遇到营业厅打来的推销5G套餐的电话，脑子一热，就升级了5G套餐。坐标位于江苏，原先是40G流量套餐，现在是每个月加上20元，每个月有100G的高速流量，看起来还是十分实惠的。（可惜宽带不能升级到1000Mbps）。接下来我就对城区内（我常去的地方）的一些地点进行了测速。</p>
<h2 id="测速环境"><a href="#测速环境" class="headerlink" title="测速环境"></a>测速环境</h2><p>手机： Samsung Galaxy S20+ 5G<br>运营商： 中国电信<br>位置：江苏某二线城市市中心5KM半径以内<br>软件： SpeedTest 江苏电信5G节点<br>家庭宽带：500Mbps光纤入户，采用i3软路由加上tplink mesh作为AP（有可能跑不满500Mbps）<br>** 测试区域在营业厅的5G建设图上都已经被5G信号覆盖了 **</p>
<h2 id="测速结果"><a href="#测速结果" class="headerlink" title="测速结果"></a>测速结果</h2><ul>
<li>室外</li>
</ul>
<p>在室外信号满格的最好状态<br><img src="https://raw.githubusercontent.com/frank2002/blogImg/main/page/3741477998.jpg"><br>从这里可以看出，5G在室外还是十分优异的，速度很快（虽然没有达到他宣称的速度），延迟不是很高，和4G环境其实不相上下。</p>
<ul>
<li>普通室外</li>
</ul>
<p>在室外普通的情况下一般能达到100-300Mbps，速度看起来还是比4G要快很多的，延迟依然和4G相差不大，估计在玩游戏上还是不能达到和家庭宽带一样的效果<br><img src="https://raw.githubusercontent.com/frank2002/blogImg/main/page/3042080346.jpg"></p>
<p>*不同室内</p>
<p>在室内测速，信号满格，是两种不同环境下在居民住宅中测的速，在较新的居民住宅中，速度达到50Mbps左右，和普通4G差不多速度。<br><img src="https://raw.githubusercontent.com/frank2002/blogImg/main/page/812419390.jpg"></p>
<p>但是在老式居民区中，信号少两格，（地理位置不同），速度竟然只达到2-5Mbps，这竟然比4G还要弱，这是大大出乎我的意料的<br><img src="https://raw.githubusercontent.com/frank2002/blogImg/main/page/1082812633.jpg"></p>
<ul>
<li>延迟方面<br>从SpeedTest上面来看，5G的延迟和4G的相差无几，并没有宣传的低延迟，相较于家宽，还是有10-20ms的差距的。<br>从游戏方面来看，（这里还没有做测试）</li>
</ul>
<h2 id="结论"><a href="#结论" class="headerlink" title="结论"></a>结论</h2><p>5G网络在室外已经十分的快了，速度已经能达到宽带水平。但是，5G网络的缺点也十分明显，现在的基础建设十分不足，在室内和室外，或者不同的地理位置，信号都有着巨大的差距，有的地方甚至都没有4G网络的质量好。（我相信大多数人用数据流量还是在室内用的）<br>关于延迟方面，并没有推广说的低延迟，感觉和4G一个水平，比家庭宽带要高上10-20ms，对于游戏来说还是有一定影响的。<br>测速时发现，网速由低到高都需要很长一段时间来爬升（从图中的趋势可以看出）相比家庭宽带爬升的要慢。<br>我的建议是，如果现在急着换手机，那么可以买一个5G手机并且升级套餐，但是如果手机还能用，还不想换，那么也没有必要盲目升级5G，现在还不是完全成熟的阶段。</p>
<h2 id="附："><a href="#附：" class="headerlink" title="附："></a>附：</h2><p>4G测速结果：<br><img src="https://raw.githubusercontent.com/frank2002/blogImg/main/page/2819579817.jpg"></p>
<p>家庭宽带测速结果：<br><img src="https://raw.githubusercontent.com/frank2002/blogImg/main/page/256753916.jpg"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://page.frankutils.xyz/2020/07/31/%E5%A6%82%E4%BD%95%E5%9C%A8Windows10%E4%B8%8A%E6%8C%82%E8%BD%BDWebDav/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Frank W">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Fs Page">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/07/31/%E5%A6%82%E4%BD%95%E5%9C%A8Windows10%E4%B8%8A%E6%8C%82%E8%BD%BDWebDav/" class="post-title-link" itemprop="url">如何在Windows10上挂载WebDav</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-07-31 16:52:51" itemprop="dateCreated datePublished" datetime="2020-07-31T16:52:51+02:00">2020-07-31</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-04-10 16:53:57" itemprop="dateModified" datetime="2023-04-10T16:53:57+02:00">2023-04-10</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>由于FTP的安全性堪忧，所以很多时候使用网络驱动器都会使用到WebDav协议来传输文件。许多网盘，像坚果云，NextCloud, CloudReve, 群晖等等都支持了WebDav协议的网络硬盘挂载，这篇文章主要讲述如何在Windows平台上挂载WebDav。</p>
<h3 id="打开此电脑，点击映射网络驱动器"><a href="#打开此电脑，点击映射网络驱动器" class="headerlink" title="打开此电脑，点击映射网络驱动器"></a>打开此电脑，点击映射网络驱动器</h3><p><img src="https://raw.githubusercontent.com/frank2002/blogImg/main/page/1669217597.png"><br>请确保是** 映射网络驱动器 <strong>，而不是</strong> 添加网络位置 **<br>亲测，添加网络位置无法挂载基于Https的WebDav网络驱动器。</p>
<h3 id="输入WebDav的url"><a href="#输入WebDav的url" class="headerlink" title="输入WebDav的url"></a>输入WebDav的url</h3><p><img src="https://raw.githubusercontent.com/frank2002/blogImg/main/page/1251071193.png"><br>确保访问的路径正确，可以直接向提供者询问。</p>
<h3 id="输入凭据"><a href="#输入凭据" class="headerlink" title="输入凭据"></a>输入凭据</h3><p>因为WebDav相较于FTP更为安全，是不允许匿名访问的，这里需要填写提供商提供的Webdav登录用户名和密码，<br><img src="https://raw.githubusercontent.com/frank2002/blogImg/main/page/805380419.jpg"></p>
<h3 id="返回到Windows资源管理器"><a href="#返回到Windows资源管理器" class="headerlink" title="返回到Windows资源管理器"></a>返回到Windows资源管理器</h3><p>如果前面的步骤都没有报错的话，这一步应该能在此电脑这个界面看到新挂载的WebDav驱动器了</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://page.frankutils.xyz/2020/07/26/%E4%BD%BF%E7%94%A8Docker%E9%85%8D%E7%BD%AENextcloud/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Frank W">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Fs Page">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/07/26/%E4%BD%BF%E7%94%A8Docker%E9%85%8D%E7%BD%AENextcloud/" class="post-title-link" itemprop="url">使用Docker配置Nextcloud</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-07-26 16:50:47" itemprop="dateCreated datePublished" datetime="2020-07-26T16:50:47+02:00">2020-07-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-04-10 16:52:27" itemprop="dateModified" datetime="2023-04-10T16:52:27+02:00">2023-04-10</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>本文参考：<a target="_blank" rel="noopener" href="https://blog.wangriyu.wang/2018/05-server-nextcloud.html">https://blog.wangriyu.wang/2018/05-server-nextcloud.html</a><br><img src="https://raw.githubusercontent.com/frank2002/blogImg/main/page/3113001327.png"><br>Nextcloud是一个功能十分强大的，基于PHP的网盘系统，是个人或者组织进行建立私有云的不二之选。配合NextCloud中间众多的APP，可以实现很多功能，包括团队写作等等。<br><img src="https://raw.githubusercontent.com/frank2002/blogImg/main/page/3053133952.png"></p>
<h2 id="如何部署Nextcloud"><a href="#如何部署Nextcloud" class="headerlink" title="如何部署Nextcloud"></a>如何部署Nextcloud</h2><h3 id="拉取两个镜像，并且创建docker-compose配置文件："><a href="#拉取两个镜像，并且创建docker-compose配置文件：" class="headerlink" title="拉取两个镜像，并且创建docker-compose配置文件："></a>拉取两个镜像，并且创建docker-compose配置文件：</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd ~</span><br><span class="line">docker pull wonderfall/nextcloud</span><br><span class="line">docker pull mariadb:10</span><br><span class="line">vi docker-compose.yml</span><br></pre></td></tr></table></figure>

<h3 id="粘贴进文本框以下内容："><a href="#粘贴进文本框以下内容：" class="headerlink" title="粘贴进文本框以下内容："></a>粘贴进文本框以下内容：</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">nextcloud:</span><br><span class="line">  image: wonderfall/nextcloud</span><br><span class="line">  container_name: nextcloud_web</span><br><span class="line">  links:</span><br><span class="line">    - nextcloud-db:nextcloud-db</span><br><span class="line">  environment:</span><br><span class="line">    - UID=1000</span><br><span class="line">    - GID=1000</span><br><span class="line">    - UPLOAD_MAX_SIZE=5G</span><br><span class="line">    - APC_SHM_SIZE=128M</span><br><span class="line">    - OPCACHE_MEM_SIZE=128</span><br><span class="line">    - CRON_PERIOD=15m</span><br><span class="line">    - TZ=Aisa/Shanghai</span><br><span class="line">    - ADMIN_USER=登录账号</span><br><span class="line">    - ADMIN_PASSWORD=登录密码</span><br><span class="line">    - DOMAIN=localhost</span><br><span class="line">    - DB_TYPE=mysql</span><br><span class="line">    - DB_NAME=nextcloud</span><br><span class="line">    - DB_USER=nextcloud</span><br><span class="line">    - DB_PASSWORD=数据库 nextcloud 账号密码</span><br><span class="line">    - DB_HOST=nextcloud-db</span><br><span class="line">  volumes:</span><br><span class="line">    # 文件会放在宿主机的 `/docker/nextcloud` 目录，如果不存在会自动创建</span><br><span class="line">    - /docker/nextcloud/data:/data</span><br><span class="line">    - /docker/nextcloud/config:/config</span><br><span class="line">    - /docker/nextcloud/apps:/apps2</span><br><span class="line">    - /docker/nextcloud/themes:/nextcloud/themes</span><br><span class="line">  expose:</span><br><span class="line">    - 8888</span><br><span class="line">  ports:</span><br><span class="line">    # 宿主机端口:镜像端口</span><br><span class="line">    - 8888:8888/tcp</span><br><span class="line">  restart: always</span><br><span class="line"></span><br><span class="line">nextcloud-db:</span><br><span class="line">  image: mariadb:10</span><br><span class="line">  container_name: nextcloud_db</span><br><span class="line">  volumes:</span><br><span class="line">    # 数据库文件会放在宿主机的 `/docker/nextcloud/db` 目录，如果不存在会自动创建</span><br><span class="line">    - /docker/nextcloud/db:/var/lib/mysql</span><br><span class="line">  environment:</span><br><span class="line">    - MYSQL_ROOT_PASSWORD=数据库 root 密码</span><br><span class="line">    - MYSQL_DATABASE=nextcloud</span><br><span class="line">    - MYSQL_USER=nextcloud</span><br><span class="line">    - MYSQL_PASSWORD=数据库 nextcloud 账号密码</span><br><span class="line">  restart: always</span><br></pre></td></tr></table></figure>

<ul>
<li>这里使用Mariadb(Mysql)作为数据库，如果个人使用，对性能要求不高，希望负载较小，可以使用Sqlite，在这里删除nextcloud-db下的内容，并对上面nextcloud-web进行相应更改。 *</li>
</ul>
<h3 id="保存退出并运行："><a href="#保存退出并运行：" class="headerlink" title="保存退出并运行："></a>保存退出并运行：</h3><p><code>docker-compose up -d</code></p>
<h3 id="测试之前需要等待一段时间，从这里开始容器应该就配置完成了，可以使用以下命令进行检验："><a href="#测试之前需要等待一段时间，从这里开始容器应该就配置完成了，可以使用以下命令进行检验：" class="headerlink" title="测试之前需要等待一段时间，从这里开始容器应该就配置完成了，可以使用以下命令进行检验："></a>测试之前需要等待一段时间，从这里开始容器应该就配置完成了，可以使用以下命令进行检验：</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker ps -a // 可以看到容器已经起来</span><br><span class="line">docker logs nextcloud_db // 查看数据库配置是否完成</span><br><span class="line">docker logs nextcloud_web // 查看 nextcloud 是否配置完成</span><br></pre></td></tr></table></figure>

<h3 id="配置web反代"><a href="#配置web反代" class="headerlink" title="配置web反代"></a>配置web反代</h3><p>配置web反向代理在这里将不会展开，新手可以使用BT-panel来进行图形化的操作，大佬就可以直接写Nginx的配置文件了，在这里就不过多赘述了。</p>
<hr>
<h2 id="使用Docker配置OnlyOffice-Community-Server"><a href="#使用Docker配置OnlyOffice-Community-Server" class="headerlink" title="使用Docker配置OnlyOffice Community Server"></a>使用Docker配置OnlyOffice Community Server</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker pull onlyoffice/documentserver</span><br><span class="line">docker run -i -t -d -p 8080:80 onlyoffice/documentserver</span><br></pre></td></tr></table></figure>

<p>访问一下:<a target="_blank" rel="noopener" href="http://ip:8080/">http://IP:8080</a><br>如果出现绿色的勾，那么你的服务器就成功部署了</p>
<blockquote>
<p>附：配置要求（官方）<br>RAM: 4 GB+<br>CPU: 双核 2 GHz +<br>Swap: 至少2 GB<br>HDD: 至少有2GB的剩余空间<br>系统要求: RedHat 64bit，CentOS类、Debian类的内核版本3.8以上。<br>Docker: 1.9.0版本及以上</p>
</blockquote>
<hr>
<h2 id="问题解决"><a href="#问题解决" class="headerlink" title="问题解决"></a>问题解决</h2><p>这时候如果在nextcloud里面设置好OnlyOffice，打开一个Word文件什么都显示不出来，控制台报错：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Refused to frame &#x27;http://office.domain/&#x27; because it violates the following Content Security Policy directive: &quot;frame-src https://office.domain/&quot;.</span><br></pre></td></tr></table></figure>

<p>这是因为OnlyOffice服务器在这里是默认使用Http传输，但是NextCloud是Https传输，两种内容不能混合在一起。<br>我们需要在OnlyOffice服务器的反向代理配置中加入一句话就能搞定：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">proxy_set_header X-Forwarded-Proto $scheme;</span><br></pre></td></tr></table></figure>

<p>保存后再次打开Word文件，发现显示正常：<br><img src="https://raw.githubusercontent.com/frank2002/blogImg/main/page/2375875066.png"><br>这样，NextCloud的主题就基本配置完成了&#x2F;</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://page.frankutils.xyz/2020/07/26/Linux%E4%B8%8A%E7%9A%84Docker%E5%90%84%E7%A7%8D%E6%95%99%E7%A8%8B%E6%B1%87%E6%80%BB/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Frank W">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Fs Page">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/07/26/Linux%E4%B8%8A%E7%9A%84Docker%E5%90%84%E7%A7%8D%E6%95%99%E7%A8%8B%E6%B1%87%E6%80%BB/" class="post-title-link" itemprop="url">Linux上的Docker各种教程汇总</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-07-26 16:47:16" itemprop="dateCreated datePublished" datetime="2020-07-26T16:47:16+02:00">2020-07-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-04-10 16:48:57" itemprop="dateModified" datetime="2023-04-10T16:48:57+02:00">2023-04-10</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>Docker作为一个轻量型的虚拟容器，因为他能够使部署各种服务十分的方便简单，受到许多人的喜爱，这篇教程主要讲Docker从安装到部署的各种方法和注意事项。<br><img src="https://raw.githubusercontent.com/frank2002/blogImg/main/page/3123926452.png" alt="docker"></p>
<h2 id="各种系统上面部署Docker环境"><a href="#各种系统上面部署Docker环境" class="headerlink" title="各种系统上面部署Docker环境"></a>各种系统上面部署Docker环境</h2><p>docker的部署还是相对复杂的，好在，官方提供了一键部署脚本，配合上国内源，使我们能在各种地方轻松部署docker环境。</p>
<h3 id="Centos脚本："><a href="#Centos脚本：" class="headerlink" title="Centos脚本："></a>Centos脚本：</h3><blockquote>
<p>在任意目录下新建sh可执行文件：<br><code>vim DockerInstall.sh</code><br>复制粘贴以下内容（适用于“网络通畅”的主机）：</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"># remove old version</span><br><span class="line">sudo yum remove docker \</span><br><span class="line">                  docker-client \</span><br><span class="line">                  docker-client-latest \</span><br><span class="line">                  docker-common \</span><br><span class="line">                  docker-latest \</span><br><span class="line">                  docker-latest-logrotate \</span><br><span class="line">                  docker-logrotate \</span><br><span class="line">                  docker-selinux \</span><br><span class="line">                  docker-engine-selinux \</span><br><span class="line">                  docker-engine</span><br><span class="line"></span><br><span class="line"># remove all docker data </span><br><span class="line">sudo rm -rf /var/lib/docker</span><br><span class="line"></span><br><span class="line">#  preinstall utils </span><br><span class="line">sudo yum install -y yum-utils \</span><br><span class="line">  device-mapper-persistent-data \</span><br><span class="line">  lvm2</span><br><span class="line"></span><br><span class="line"># add repository</span><br><span class="line">sudo yum-config-manager \</span><br><span class="line">    --add-repo \</span><br><span class="line">    https://download.docker.com/linux/centos/docker-ce.repo</span><br><span class="line"></span><br><span class="line"># make cache</span><br><span class="line">sudo yum makecache fast</span><br><span class="line"></span><br><span class="line"># install the latest stable version of docker</span><br><span class="line">sudo yum install -y docker-ce</span><br><span class="line"></span><br><span class="line"># start deamon and enable auto start when power on</span><br><span class="line">sudo systemctl start docker</span><br><span class="line">sudo systemctl enable docker</span><br><span class="line"></span><br><span class="line"># add current user </span><br><span class="line">sudo groupadd docker</span><br><span class="line">sudo gpasswd -a $&#123;USER&#125; docker</span><br><span class="line">sudo systemctl restart docker</span><br></pre></td></tr></table></figure>

<blockquote>
<p>对于网络“不通畅”的主机，我们则使用以下脚本：</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"># 移除掉旧的版本</span><br><span class="line">sudo yum remove docker \</span><br><span class="line">                  docker-client \</span><br><span class="line">                  docker-client-latest \</span><br><span class="line">                  docker-common \</span><br><span class="line">                  docker-latest \</span><br><span class="line">                  docker-latest-logrotate \</span><br><span class="line">                  docker-logrotate \</span><br><span class="line">                  docker-selinux \</span><br><span class="line">                  docker-engine-selinux \</span><br><span class="line">                  docker-engine</span><br><span class="line"></span><br><span class="line"># 删除所有旧的数据</span><br><span class="line">sudo rm -rf /var/lib/docker</span><br><span class="line"></span><br><span class="line">#  安装依赖包</span><br><span class="line">sudo yum install -y yum-utils \</span><br><span class="line">  device-mapper-persistent-data \</span><br><span class="line">  lvm2</span><br><span class="line"></span><br><span class="line"># 添加源，使用了阿里云镜像</span><br><span class="line">sudo yum-config-manager \</span><br><span class="line">    --add-repo \</span><br><span class="line">    http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</span><br><span class="line"></span><br><span class="line"># 配置缓存</span><br><span class="line">sudo yum makecache fast</span><br><span class="line"></span><br><span class="line"># 安装最新稳定版本的docker</span><br><span class="line">sudo yum install -y docker-ce</span><br><span class="line"></span><br><span class="line"># 配置镜像加速器</span><br><span class="line">sudo mkdir -p /etc/docker</span><br><span class="line">sudo tee /etc/docker/daemon.json &lt;&lt;-&#x27;EOF&#x27;</span><br><span class="line">&#123;</span><br><span class="line">  &quot;registry-mirrors&quot;: [&quot;http://hub-mirror.c.163.com&quot;]</span><br><span class="line">&#125;</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line"># 启动docker引擎并设置开机启动</span><br><span class="line">sudo systemctl start docker</span><br><span class="line">sudo systemctl enable docker</span><br><span class="line"></span><br><span class="line"># 配置当前用户对docker的执行权限</span><br><span class="line">sudo groupadd docker</span><br><span class="line">sudo gpasswd -a $&#123;USER&#125; docker</span><br><span class="line">sudo systemctl restart docker</span><br></pre></td></tr></table></figure>

<h3 id="Debian和Ubuntu脚本："><a href="#Debian和Ubuntu脚本：" class="headerlink" title="Debian和Ubuntu脚本："></a>Debian和Ubuntu脚本：</h3><blockquote>
<p>对于Debian和Ubuntu来说部署则简单许多，只需要运行以下命令：<br>网络通畅：<br><code>curl -sSL https://get.docker.com/ | sh</code></p>
<p>网络不通畅（DaoCloud）:<br><code>curl -sSL https://get.daocloud.io/docker | sh</code><br>** 这个脚本相对阿里云的来说更快一点，但是有一些小众的docker速度不快，或者存在找不到的情况 **</p>
<p>阿里云的：<br><code>curl -sSL http://acs-public-mirror.oss-cn-hangzhou.aliyuncs.com/docker-engine/internet | sh -</code></p>
</blockquote>
<h3 id="配置Docker-Hub的镜像加速器"><a href="#配置Docker-Hub的镜像加速器" class="headerlink" title="配置Docker Hub的镜像加速器"></a>配置Docker Hub的镜像加速器</h3><blockquote>
<p>国内访问 Docker Hub 有时会遇到困难，此时可以配置镜像加速器。国内很多云服 务商都提供了加速器服务</p>
<p>阿里云的加速器地址：<a target="_blank" rel="noopener" href="https://cr.console.aliyun.com/?spm=a2c4e.11153959.blogcont29941.9.699b69d6JE3Sgg#/accelerator">https://cr.console.aliyun.com/?spm=a2c4e.11153959.blogcont29941.9.699b69d6JE3Sgg#/accelerator</a></p>
<p>针对Docker客户端版本大于1.10.0的用户 您可以通过修改daemon配置文件&#x2F;etc&#x2F;docker&#x2F;daemon.json（没有时新建该文件）来使用加速器:</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">sudo mkdir -p /etc/docker</span><br><span class="line">sudo tee /etc/docker/daemon.json &lt;&lt;-&#x27;EOF&#x27;</span><br><span class="line">&#123;</span><br><span class="line">  &quot;registry-mirrors&quot;: [&quot;https://xxx.mirror.aliyuncs.com&quot;]</span><br><span class="line">&#125;</span><br><span class="line">EOF</span><br><span class="line">sudo systemctl daemon-reload</span><br><span class="line">sudo systemctl restart docker</span><br></pre></td></tr></table></figure>

<blockquote>
<p>修改后</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;registry-mirrors&quot;: [&quot;&lt;your accelerate address&gt;&quot;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="安装docker-compose"><a href="#安装docker-compose" class="headerlink" title="安装docker-compose"></a>安装docker-compose</h2><p>docker-compose支持用户使用一些现成的配置文件来部署一个容器，并且可定制性非常的强，适合开发者使用<br>安装命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install docker-compose</span><br></pre></td></tr></table></figure>

<p>** 此处仅适用于Debian **</p>
<hr>
<h2 id="使用Protainer来管理docker"><a href="#使用Protainer来管理docker" class="headerlink" title="使用Protainer来管理docker"></a>使用Protainer来管理docker</h2><p>Protainer是一款轻量级的docker网页管理系统，并且功能相对强大，支持多个服务器同时管理，十分好用。<br>一键部署：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d -p 9000:9000 --restart=always --name portainer -v /var/run/docker.sock:/var/run/docker.sock -v /Users/lee/dev/docker_file/portainer/data:/data docker.io/portainer/portainer</span><br></pre></td></tr></table></figure>

<p>外部端口号：9000</p>
<hr>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://page.frankutils.xyz/2020/07/23/Linux%E5%AF%B9%E4%BA%8E%E6%89%A9%E5%B1%95%E7%B3%BB%E7%BB%9F%E5%88%86%E5%8C%BA%E5%AE%B9%E9%87%8F%E7%9A%84%E6%96%B9%E5%BC%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Frank W">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Fs Page">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/07/23/Linux%E5%AF%B9%E4%BA%8E%E6%89%A9%E5%B1%95%E7%B3%BB%E7%BB%9F%E5%88%86%E5%8C%BA%E5%AE%B9%E9%87%8F%E7%9A%84%E6%96%B9%E5%BC%8F/" class="post-title-link" itemprop="url">Linux对于扩展系统分区容量的方式</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-07-23 16:43:05" itemprop="dateCreated datePublished" datetime="2020-07-23T16:43:05+02:00">2020-07-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-04-10 16:43:38" itemprop="dateModified" datetime="2023-04-10T16:43:38+02:00">2023-04-10</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>很多新手刚接触到虚拟机和Linux系统的时候都会对Linux的文件系统而产生疑惑，此篇文章主要讲述，在纯命令行下，如何对Linux的系统分区进行硬盘的容量扩展<br>##在ESXI或Workstation中间扩展硬盘容量（基础）<br>我认为此步骤不需要过多赘述了<br>##更改分区表</p>
<ol>
<li>运行</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fdisk -l</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>查看本机的分区类型，查看主分区所处的位置</li>
<li>运行</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fdisk /dev/sda</span><br></pre></td></tr></table></figure>

<p>** 可以输入<code>m</code> 获得fdisk的帮助信息 **<br><code>d</code>删除需要扩容的分区<br><code>p</code>获得现有分区信息<br><code>n</code>创建新分区，设置大小和首尾<br><code>wq</code>保存<br>这样子的话分区表就已经更新好了，但是文件系统还没有更新，我们接着需要更新文件系统。<br>##更新文件系统</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">e2fsck -f /dev/sda1</span><br><span class="line">resize2fs /dev/sda1</span><br></pre></td></tr></table></figure>

<p>** 注意，此处操作不会使原来文件丢失 **<br>接着重启系统，发现磁盘容量已经扩容</p>
<p>*** 提示：任何磁盘操作都有丢失文件的风险，请先进行备份操作 ***</p>
<p>##附加：BT-Panel的多个硬盘一件挂载指令（和本文无关）<br>这个命令方便的将未挂载的硬盘一键挂载到系统和BT-Panel上，十分方便。<br>Centos:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install wget -y &amp;&amp; wget -O auto_disk.sh http://download.bt.cn/tools/auto_disk.sh &amp;&amp; bash auto_disk.sh</span><br></pre></td></tr></table></figure>

<p>Ubuntu:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -O auto_disk.sh http://download.bt.cn/tools/auto_disk.sh &amp;&amp; sudo bash auto_disk.sh</span><br></pre></td></tr></table></figure>

<p>Debian:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -O auto_disk.sh http://download.bt.cn/tools/auto_disk.sh &amp;&amp; bash auto_disk.sh</span><br></pre></td></tr></table></figure>

<p>一键挂载原文链接：<a target="_blank" rel="noopener" href="https://www.bt.cn/bbs/thread-3187-1-1.html">https://www.bt.cn/bbs/thread-3187-1-1.html</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://page.frankutils.xyz/2020/07/23/%E5%85%B3%E4%BA%8E%E8%BF%99%E4%B8%AA%E5%8D%9A%E5%AE%A2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Frank W">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Fs Page">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/07/23/%E5%85%B3%E4%BA%8E%E8%BF%99%E4%B8%AA%E5%8D%9A%E5%AE%A2/" class="post-title-link" itemprop="url">关于这个博客</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-07-23 16:26:43" itemprop="dateCreated datePublished" datetime="2020-07-23T16:26:43+02:00">2020-07-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-04-10 16:42:25" itemprop="dateModified" datetime="2023-04-10T16:42:25+02:00">2023-04-10</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>##这个博客是从typecho移植过来的，为了能够使用github更好的全球分发，并且更加稳定。<br>之前的文章很多都已经找不到了，主要是因为typecho稳定版中间的备份功能竟然有Bug，很烦！ （╯‵□′）╯︵┴─┴<br>后面会继续记录一些个人的心路历程和踩坑经验，希望以后能够绕坑而行。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Frank W</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">17</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Frank W</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
